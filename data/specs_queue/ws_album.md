
we_meta.ws_album
================

# BASIC INFO

|**About**| ë‹´ë‹¹ì ìˆ˜ê¸° ì…ë ¥ í•„ìš” |
| :--- | :--- |
|**Database**|**we_meta**|
|**Table Type**|META PRIMARY|
|**Partitioned by**|`part_date`|
|**Created/ Last Updated At**|2022-11-15 / 2024-09-11|
|**Created By**|ì†¡ì¬ì˜|
|**Last Updated By**|ì†¡ì¬ì˜|
|**Collaborators**|ì†¡ì¬ì˜[40], êµ¬ë¯¼ì„œ[1], ì´í˜„ì§€[1]|
  
#### Change History
|**Date**|**By**|**LINK**|
| :--- | :--- | :--- |
|2022-11-15|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/9fbde08e235e8eba8229a9da66f15370d1335865)|
|2022-11-25|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/2770e9fda94536cec2f45e2419a9c468a339726c)|
|2022-11-25|ì´í˜„ì§€|[PR](https://github.com/benxcorp/databricks/commit/60ea38cf517849d2485bcefe77f5688cb8b17205)|
|2022-11-25|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/0176556a6c2f3e5cda65645ab2fbb616f6b976be)|
|2022-12-12|êµ¬ë¯¼ì„œ|[PR](https://github.com/benxcorp/databricks/commit/84b36e9af61538ef2350e9eb200b0e4201115c5a)|
|2022-12-14|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/9d82b8b8af6515649bad70defc8c32408bed107e)|
|2023-01-08|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/3b936ca2cab487137177c384cc121ec16385d94f)|
|2023-01-16|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/6f74272a9dfeb68da1f9d04adfe1d852ad18659c)|
|2023-01-17|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/9b54e1e3826f0119fbc2ad0c975c3e6751135088)|
|2023-01-18|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/5b82769dd35750f21dbd129d0eccebff10ae2d64)|
|2023-02-06|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/77568161a6c5b1b66a3be9ff26617b052c1891bd)|
|2023-04-03|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/65e038cf18a8962c170afd66ee1687b49a999b57)|
|2023-04-03|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/ee6f4e578599564d4ce28dd810c23d2442112d83)|
|2023-07-10|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/3d6efbce589f558480cd54e3db4c4f940a884b25)|
|2023-07-18|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/0df00a2ed3232888b261a5cab2a9368f681562a3)|
|2023-07-18|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/ba0b36a59e559e7392257c9dc9c8fd845b887cbd)|
|2023-07-24|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/b90d54260f332e970a11afeca1e3d960be69141d)|
|2023-08-10|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/cf8e35eb5e00737da0c3bd8f60c9c60ce1765ea9)|
|2023-11-09|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/9cc0866a5e12ae7acb9c43e45a02fc321795cb28)|
|2023-11-28|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/ac65bb6aafb3daf04f286b67731c8d044025ed85)|
|2023-12-05|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/8382167311795bb02430ab3fa21e54dc93edb94a)|
|2023-12-06|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/46fd18593811fb0da0631d03d45463bd85e6543d)|
|2023-12-06|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/178365913f8ce920d84182238029ff95ff6f11ac)|
|2023-12-22|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/3cbb388260e84f6906e9ecfc80e74ef79f094ab4)|
|2024-01-18|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/31d6dad40b2a2fbadbf1a3c04468c5212907b345)|
|2024-01-29|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/92bfbafa78a8a9f92f51600f91cf2c1cb802c65c)|
|2024-01-29|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/7895d81a3f653dafe31494b400dd6ea3596c83a6)|
|2024-01-29|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/3088b6f0cacb39b3d79bd07b42fc37b3f3b3f65c)|
|2024-01-29|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/824608a1e618d81df839ecbb6cd78f760bdd57f7)|
|2024-01-29|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/4255dbad44c750136a7cd771669fd282af328111)|
|2024-01-29|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/08f2d9a5e6e8e34a82db475175a1e5c388006741)|
|2024-01-29|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/bebc98dfde69013a7d81e9a371732504ac306760)|
|2024-01-29|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/0bfce2b41407d8afac279c151a2a9a0f10b0e8fa)|
|2024-01-30|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/c9069eb99e85027446319aaa50ffc916fb565596)|
|2024-01-30|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/8f92dfd75e6a5cca490aa7066beaed8fdda4cc34)|
|2024-02-20|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/766d7b2eef166387b7de30b0d08cf383101c1dff)|
|2024-02-23|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/6ea3dc08ed3a1f38fac892a0285bcb9f6418efe2)|
|2024-02-28|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/46f2719d9c25d04ea579ceb487ad5742218f6cff)|
|2024-04-06|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/a6d82bc9ad102f6cfc48d44d6924a3c5f35f2a1a)|
|2024-07-23|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/0c338393af4591a2d25497f2250a3ce8ba33f5bd)|
|2024-09-02|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/ebcd3ffe83009bdd34820ea57fce2104e475d7a1)|
|2024-09-11|ì†¡ì¬ì˜|[PR](https://github.com/benxcorp/databricks/commit/510c5593b7f9aba61dad8d0ec9d176f950489260)|
  
  
# TABLE NOTICE
  
### í…Œì´ë¸” ê°œìš”

*   **í…Œì´ë¸” ëª©ì **: ìœ„ë²„ìŠ¤ìƒµì—ì„œ íŒë§¤ë˜ëŠ” ì•¨ë²” ìƒí’ˆì— ëŒ€í•œ ë©”íƒ€ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”
*   **ë°ì´í„° ë ˆë²¨**: META DATA
*   **íŒŒí‹°ì…˜ í‚¤**: `part_date`
*   **ì£¼ìš” í‚¤**: `album_id`

### í…Œì´ë¸” Sources

*   ë‚´ë¶€ ë°ì´í„°
    *   `we_meta.ws_album_not_null_list`: ì•¨ë²” ìƒí’ˆì— ëŒ€í•œ í•„ìˆ˜ ë©”íƒ€ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”. í•„ìˆ˜ ì…ë ¥ í•­ëª©ê³¼ ìë™ ìƒì„± í•­ëª©ìœ¼ë¡œ êµ¬ì„±ë¨.
    *   `we_mart.we_artist`: ì•„í‹°ìŠ¤íŠ¸ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”. `we_art_id`, `we_art_name` ë“±ì˜ ì»¬ëŸ¼ì„ ì œê³µ.
    *   `weverseshop.goods`: ìœ„ë²„ìŠ¤ìƒµ ìƒí’ˆ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”. `goods_id`ì™€ `goods_name` ì»¬ëŸ¼ì„ ì œê³µ.
    *   `weverseshop.goods_option`: ìœ„ë²„ìŠ¤ìƒµ ìƒí’ˆ ì˜µì…˜ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”. `goods_option_id`, `goods_option_code`, `goods_option_name` ì»¬ëŸ¼ì„ ì œê³µ.
    *   `weverseshop.goods_option_group`: ìœ„ë²„ìŠ¤ìƒµ ìƒí’ˆ ì˜µì…˜ ê·¸ë£¹ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”. `album_quantity` ì»¬ëŸ¼ì„ ì œê³µ.
    *   `weverseshop.stock`: ìœ„ë²„ìŠ¤ìƒµ ì¬ê³  ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”. `stock_id` ì»¬ëŸ¼ì„ ì œê³µ.
    *   `weverseshop.sale`: ìœ„ë²„ìŠ¤ìƒµ íŒë§¤ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”. `sale_id` ì»¬ëŸ¼ì„ ì œê³µ.
    *   `weverseshop.goods_translation`: ìœ„ë²„ìŠ¤ìƒµ ìƒí’ˆ ë²ˆì—­ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”. `goods_name` ì»¬ëŸ¼ì„ ì œê³µ.
    *   `weverseshop.sale_stock`: ìœ„ë²„ìŠ¤ìƒµ íŒë§¤ ì¬ê³  ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”. `sale_stock_id` ì»¬ëŸ¼ì„ ì œê³µ.
    *   `weverseshop.goods_goods_category`: ìœ„ë²„ìŠ¤ìƒµ ìƒí’ˆ ì¹´í…Œê³ ë¦¬ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”. `goods_category_id` ì»¬ëŸ¼ì„ ì œê³µ.
    *   `weverseshop.goods_category`: ìœ„ë²„ìŠ¤ìƒµ ì¹´í…Œê³ ë¦¬ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”. `label_artist_id` ì»¬ëŸ¼ì„ ì œê³µ.
    *   `we_meta.ws_album_id`: ì•¨ë²”ì— ëŒ€í•œ ê³ ìœ  IDë¥¼ ë‹´ê³  ìˆëŠ” í…Œì´ë¸”. `album_name`ê³¼ `we_art_id`ë¡œ IDë¥¼ ìƒì„±.

### ë°ì´í„° ì¶”ì¶œ ë° ìƒì„± ê³¼ì •

1.  **ì•¨ë²” ìƒí’ˆ ì •ë³´ ê°€ì ¸ì˜¤ê¸°**:
    *   `weverseshop.goods` í…Œì´ë¸”ì—ì„œ `goods_id`, `goods_name` ë“±ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
    *   `weverseshop.goods_option_group` í…Œì´ë¸”ì—ì„œ `album_quantity` ì»¬ëŸ¼ì„ ê°€ì ¸ì˜¨ë‹¤.
    *   `weverseshop.sale` í…Œì´ë¸”ì—ì„œ `sale_id`ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
    *   `weverseshop.goods_translation` í…Œì´ë¸”ì—ì„œ `goods_name` ì»¬ëŸ¼ì„ ê°€ì ¸ì˜¨ë‹¤.
    *   `we_mart.we_artist` í…Œì´ë¸”ì—ì„œ `we_art_id`, `we_art_name` ë“±ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
    *   `weverseshop.sale_stock` í…Œì´ë¸”ì—ì„œ `sale_stock_id` ì»¬ëŸ¼ì„ ê°€ì ¸ì˜¨ë‹¤.
    *   `weverseshop.goods_goods_category` í…Œì´ë¸”ì—ì„œ `goods_category_id` ì»¬ëŸ¼ì„ ê°€ì ¸ì˜¨ë‹¤.
    *   `weverseshop.goods_category` í…Œì´ë¸”ì—ì„œ `label_artist_id` ì»¬ëŸ¼ì„ ê°€ì ¸ì˜¨ë‹¤.
    *   `we_meta.ws_album_not_null_list` í…Œì´ë¸”ì—ì„œ ì•¨ë²” ë©”íƒ€ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
    *   `we_meta.ws_album_id` í…Œì´ë¸”ì—ì„œ ì•¨ë²” IDë¥¼ ê°€ì ¸ì˜¨ë‹¤.
2.  **ë°ì´í„° ì „ì²˜ë¦¬**:
    *   ì•¨ë²” ëª…, ì•„í‹°ìŠ¤íŠ¸ ëª… ë“±ì˜ ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ ì¤‘ë³µ ì œê±°ë¥¼ ìˆ˜í–‰í•œë‹¤.
    *   `album_scm_option_type` ì»¬ëŸ¼ì„ `MapType`ìœ¼ë¡œ ë³€í™˜í•œë‹¤.
    *   `is_wev_exclusive` ì»¬ëŸ¼ì„ `tinyint`ë¡œ ë³€í™˜í•œë‹¤.
    *   `is_wa_included` ì»¬ëŸ¼ì„ `tinyint`ë¡œ ë³€í™˜í•œë‹¤.
    *   `is_enable` ì»¬ëŸ¼ì„ `tinyint`ë¡œ ë³€í™˜í•œë‹¤.
3.  **ë°ì´í„° í†µí•©**:
    *   ìœ„ ê³¼ì •ì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ `we_meta.ws_album` í…Œì´ë¸”ì— í†µí•©í•œë‹¤.
    *   ì•¨ë²” IDê°€ ì—†ëŠ” ê²½ìš° `we_meta.ws_album_id` í…Œì´ë¸”ì—ì„œ ìƒˆ IDë¥¼ ìƒì„±í•˜ì—¬ ì¶”ê°€í•œë‹¤.
    *   `sale_id`, `goods_id`, `goods_option_id`, `stock_id` ë“±ì˜ ì»¬ëŸ¼ì„ `array` íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•œë‹¤.
4.  **ìµœì¢… í…Œì´ë¸” ìƒì„±**:
    *   ë°ì´í„°ë¥¼ `we_meta.ws_album` í…Œì´ë¸”ì— `append` ëª¨ë“œë¡œ ì €ì¥í•œë‹¤.
    *   `part_date` ì»¬ëŸ¼ì„ íŒŒí‹°ì…˜ í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë¶„í•  ì €ì¥í•œë‹¤.

### í…Œì´ë¸” í™œìš© ê°€ì´ë“œ

*   **ì£¼ìš” íƒ€ê²Ÿ ë¶„ì•¼**: ìœ„ë²„ìŠ¤ìƒµ ì•¨ë²” ìƒí’ˆì˜ ë©”íƒ€ ì •ë³´ë¥¼ ë¶„ì„í•˜ê³ , ì•¨ë²” íŒë§¤ í˜„í™©, ì•„í‹°ìŠ¤íŠ¸ë³„ ì•¨ë²” ì •ë³´ ë“±ì„ íŒŒì•…í•˜ëŠ” ë° ì‚¬ìš©
*   **ì¡°ì¸ ì‹œ ìœ ì˜ì‚¬í•­**:
    *   `we_meta.ws_album` í…Œì´ë¸”ì€ `we_meta.ws_album_not_null_list` í…Œì´ë¸”ì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ëœë‹¤. ë”°ë¼ì„œ `we_meta.ws_album_not_null_list` í…Œì´ë¸”ì— ì—†ëŠ” ì •ë³´ëŠ” í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤.
    *   `sale_id` ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ `weverseshop.sale` í…Œì´ë¸”ê³¼ ì¡°ì¸í•˜ì—¬ ì•¨ë²” ìƒí’ˆì˜ íŒë§¤ ì •ë³´ë¥¼ ì¶”ê°€ë¡œ ì–»ì„ ìˆ˜ ìˆë‹¤.
    *   `goods_id` ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ `weverseshop.goods` í…Œì´ë¸”ê³¼ ì¡°ì¸í•˜ì—¬ ì•¨ë²” ìƒí’ˆì˜ ìƒì„¸ ì •ë³´ë¥¼ ì¶”ê°€ë¡œ ì–»ì„ ìˆ˜ ìˆë‹¤.
    *   `we_art_id` ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ `we_mart.we_artist` í…Œì´ë¸”ê³¼ ì¡°ì¸í•˜ì—¬ ì•„í‹°ìŠ¤íŠ¸ ì •ë³´ë¥¼ ì¶”ê°€ë¡œ ì–»ì„ ìˆ˜ ìˆë‹¤.

### ì¶”ê°€ ì •ë³´

*   `we_meta.ws_album` í…Œì´ë¸”ì€ `we_meta.ws_album_id` í…Œì´ë¸”ì—ì„œ ì•¨ë²” IDë¥¼ ê°€ì ¸ì™€ ì‚¬ìš©í•œë‹¤. `we_meta.ws_album_id` í…Œì´ë¸”ì€ `we_meta.ws_album_not_null_list` í…Œì´ë¸”ì—ì„œ ê°€ì ¸ì˜¨ ì•¨ë²” ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì•¨ë²” IDë¥¼ ìƒì„±í•œë‹¤.
*   `is_wa_included` ì»¬ëŸ¼ì€ ìœ„ë²„ìŠ¤ ì•¨ë²” í¬í•¨ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì»¬ëŸ¼ìœ¼ë¡œ, `weverseshop.sale` í…Œì´ë¸”ì˜ `shop_tags` ì»¬ëŸ¼ì—ì„œ 'WEVERSE_ALBUM' ê°’ì´ ìˆëŠ” ê²½ìš° `1`ì„, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ `0`ì„ í• ë‹¹í•œë‹¤.
*   `album_scm_option_type` ì»¬ëŸ¼ì€ SCMíŒ€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì•¨ë²” íŒë§¤ ë‹¨ìœ„ ì¢…ë¥˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì»¬ëŸ¼ìœ¼ë¡œ, `MapType`ìœ¼ë¡œ ì €ì¥ëœë‹¤.
*   `part_date` ì»¬ëŸ¼ì€ ë°ì´í„° íŒŒí‹°ì…˜ì„ ìœ„í•œ ì»¬ëŸ¼ìœ¼ë¡œ, `yyyy-MM-dd` í˜•ì‹ì˜ ë¬¸ìì—´ë¡œ ì €ì¥ëœë‹¤.  
---
# COLUMN INFO

|#|Column Name|Data Type|Comment|
| :--- | :--- | :--- | :--- |
|0|ws_label_id|bigint|ì•„í‹°ìŠ¤íŠ¸ ì†Œì† ë ˆì´ë¸” ID|
|1|ws_label_name|string|ì•„í‹°ìŠ¤íŠ¸ ì†Œì† ë ˆì´ë¸”ëª…|
|2|we_art_id|int|we_art_id|
|3|we_art_name|string|we_art_name|
|4|ws_art_id|bigint|ìœ„ë²„ìŠ¤ ìƒµ ë ˆì´ë¸”/ì•„í‹°ìŠ¤íŠ¸ ID|
|5|artist_name|string|ìœ„ë²„ìŠ¤ ìƒµ ê¸°ì¤€ ì•„í‹°ìŠ¤íŠ¸ëª…|
|6|album_performer_type|string|ì•¨ë²” ì°¸ì—¬ ì•„í‹°ìŠ¤íŠ¸ êµ¬ì„± ìœ í˜• (ê·¸ë£¹, ìœ ë‹›, ì†”ë¡œ)|
|7|album_performer_name|string|ì•¨ë²” ì°¸ì—¬ ì•„í‹°ìŠ¤íŠ¸ ëª…(nvl(ë³„ì¹­, ê·¸ë£¹ëª…))|
|8|project_name|string|í”„ë¡œì íŠ¸ ëª…|
|9|album_content_type|string|ì•¨ë²” ìœ í˜• (ì‹±ê¸€, ì •ê·œ, ë¯¸ë‹ˆ.. )|
|10|album_content_seq|int|ì•¨ë²” ìœ í˜• ë³„ ìˆœë²ˆ(ex, BTS ì •ê·œ 3ì§‘ => 3)|
|11|album_id|int|ì•¨ë²” ê³ ìœ  ë²ˆí˜¸|
|12|album_name|string|ì •ì‹ ì•¨ë²”ëª…|
|13|album_alias_list|array<string>|ì•¨ë²”ëª…ì´ ì˜¨ì „í•œ ì˜ì–´ê°€ ì•„ë‹ ê²½ìš° ëŒ€ì‹  ì‚¬ìš© ê°€ëŠ¥í•œ ì•¨ë²” ë³„ì¹­ ì–´ë ˆì´|
|14|album_option_type|string|ì•¨ë²” íŒ¨í‚¤ì§€ ë° í˜•íƒœ êµ¬ë¶„ (ë””ëŸ­ìŠ¤, ì¼ë°˜, ìœ„ë²„ìŠ¤ì•¨ë²”, ìŠ¤í˜ì…œ, ì½¤íŒ©íŠ¸, KiT..)|
|15|album_physical_type|string|ì•¨ë²” ë¬¼ë¦¬ í˜•íƒœ êµ¬ë¶„(ì‹¤ë¬¼ ì•¨ë²” ìœ í˜•)|
|16|album_qty_type|string|ì•¨ë²” íŒë§¤ ë‹¨ìœ„ ì¢…ë¥˜ (ëœë¤, ì„¸íŠ¸, ì˜µì…˜ ë“±)|
|17|album_scm_option_type|map<string,int>|SCMíŒ€ ì‚¬ìš© ì•¨ë²” íŒë§¤ ë‹¨ìœ„ ì¢…ë¥˜|
|18|album_release_date|date|ì•¨ë²” ë°œë§¤ì¼|
|19|album_cumulative_date|date|ì•¨ë²” ì´ˆë™ íŒë§¤ ë§ˆê°ì¼|
|20|album_qty|int|íŒë§¤ ë‹¨ìœ„ë‹¹ ì•¨ë²” ìˆ˜ëŸ‰|
|21|shop|string|íŒë§¤ ìˆ|
|22|target_ctry|string|íƒ€ê¹ƒêµ­ê°€ (ê¸€ë¡œë²Œ, ì¼ë³¸)|
|23|sale_id|bigint|íŒë§¤ ID|
|24|stock_ids|array<bigint>|ì…ê³  ID list|
|25|sale_stock_ids|array<bigint>|íŒë§¤ ìƒí’ˆ ì˜µì…˜ ID list|
|26|is_wev_exclusive|tinyint|ìœ„ë²„ìŠ¤ ë…ì  íŒë§¤ ì—¬ë¶€|
|27|sale_start_date|date|ìƒí’ˆ íŒë§¤ ì‹œì‘ì¼|
|28|goods_id|int|ìƒí’ˆ ID|
|29|goods_name|string|ìƒí’ˆëª…|
|30|sap_codes|array<string>|SAP ì½”ë“œ ë¦¬ìŠ¤íŠ¸|
|31|goods_option_values|array<struct>|ìƒí’ˆ ì˜µì…˜ ID, CODE, ëª…|
|32|is_wa_included|int|ìœ„ë²„ìŠ¤ ì•¨ë²” ì—¬ë¶€|
|33|is_enable|int|ìƒí’ˆ ì‚¬ìš©ê°€ëŠ¥ ì—¬ë¶€|
|34|upd_by|string|ë§ˆì§€ë§‰ ì…ë ¥ì|
|35|upd_date|date|ë§ˆì§€ë§‰ ì…ë ¥ì¼|
|36|run_timestamp|timestamp|ë°ì´í„° ì…ë ¥ ì¼ì‹œ|
|37|part_date|string|íŒŒí‹°ì…˜ ì¼ì|
  
    
---
# HOW TO USE
  
`
### Downstream Table/View
- `ws_album` í…Œì´ë¸”ì„ ì´ìš©í•˜ì—¬ í•´ë‹¹ ì•„í‹°ìŠ¤íŠ¸ì˜ ì•¨ë²” ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ” ë·°ë¥¼ ìƒì„±
    - ```sql
      create or replace view wev_prod.we_mart.view_artist_album_info as
      select
      a.we_art_id, a.we_art_name, a.ws_art_id, a.artist_name, a.album_id, a.album_name, a.album_release_date, a.album_cumulative_date, a.album_qty_type, a.album_option_type, a.album_physical_type, a.is_wev_exclusive, a.is_wa_included, a.target_ctry, a.sale_id, a.goods_id, a.goods_name, a.sap_codes, a.goods_option_values, a.is_enable, a.upd_by, a.upd_date
      from wev_prod.we_meta.ws_album a
      where a.we_art_id = ARTIST
      and a.part_date = '2024-01-01'
      ```

- `ws_album` í…Œì´ë¸”ì„ ì´ìš©í•˜ì—¬ í•´ë‹¹ ì•¨ë²”ì˜ íŒë§¤ ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ” ë·°ë¥¼ ìƒì„±
    - ```sql
      create or replace view wev_prod.we_mart.view_album_sales_info as
      select
      a.album_id, a.album_name, a.album_release_date, a.album_cumulative_date, a.sale_id, a.goods_id, a.goods_name, a.is_wev_exclusive, a.is_wa_included, a.target_ctry, a.album_qty, a.album_qty_type, a.album_option_type, a.album_physical_type, a.shop, a.is_enable, a.upd_by, a.upd_date
      from wev_prod.we_meta.ws_album a
      where a.album_id = ALBUM_ID
      and a.part_date = '2024-01-01'
      ```

- `ws_album` í…Œì´ë¸”ì„ ì´ìš©í•˜ì—¬ í•´ë‹¹ ì•„í‹°ìŠ¤íŠ¸ì˜ ìµœì‹  ì•¨ë²” ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ” ë·°ë¥¼ ìƒì„±
    - ```sql
      create or replace view wev_prod.we_mart.view_artist_latest_album_info as
      select
      a.we_art_id, a.we_art_name, a.ws_art_id, a.artist_name, a.album_id, a.album_name, a.album_release_date, a.album_cumulative_date, a.album_qty_type, a.album_option_type, a.album_physical_type, a.is_wev_exclusive, a.is_wa_included, a.target_ctry, a.sale_id, a.goods_id, a.goods_name, a.sap_codes, a.goods_option_values, a.is_enable, a.upd_by, a.upd_date
      from wev_prod.we_meta.ws_album a
      where a.we_art_id = ARTIST
      and a.part_date = (select max(part_date) from wev_prod.we_meta.ws_album)
      ```

### Data Extraction
- `ws_album` í…Œì´ë¸”ì—ì„œ í•´ë‹¹ ì•„í‹°ìŠ¤íŠ¸ì˜ ì•¨ë²” ì •ë³´ë¥¼ ì¶”ì¶œ
    - ```sql
      select we_art_id, we_art_name, album_id, album_name, album_release_date, album_cumulative_date, album_qty_type, album_option_type, album_physical_type, is_wev_exclusive, is_wa_included, target_ctry
      from wev_prod.we_meta.ws_album
      where we_art_id = ARTIST
      and part_date = '2024-01-01'
      ```

- `ws_album` í…Œì´ë¸”ì—ì„œ í•´ë‹¹ ì•¨ë²”ì˜ íŒë§¤ ì •ë³´ë¥¼ ì¶”ì¶œ
    - ```sql
      select album_id, album_name, album_release_date, album_cumulative_date, sale_id, goods_id, goods_name, is_wev_exclusive, is_wa_included, target_ctry, album_qty, album_qty_type, album_option_type, album_physical_type, shop, is_enable, upd_by, upd_date
      from wev_prod.we_meta.ws_album
      where album_id = ALBUM_ID
      and part_date = '2024-01-01'
      ```

- `ws_album` í…Œì´ë¸”ì—ì„œ ìµœì‹  ì•¨ë²” ë°œë§¤ ì •ë³´ë¥¼ ì¶”ì¶œ (ìµœì‹  ì•¨ë²” ì •ë³´ëŠ” `part_date` ì»¬ëŸ¼ì„ í†µí•´ íŒŒì•…)
    - ```sql
      select we_art_id, we_art_name, album_id, album_name, album_release_date, album_cumulative_date, album_qty_type, album_option_type, album_physical_type, is_wev_exclusive, is_wa_included, target_ctry
      from wev_prod.we_meta.ws_album
      where part_date = (select max(part_date) from wev_prod.we_meta.ws_album)
      ```

- `ws_album` í…Œì´ë¸”ì—ì„œ í•´ë‹¹ ì•„í‹°ìŠ¤íŠ¸ì˜ ì•¨ë²” ë°œë§¤ ì •ë³´ë¥¼ ì¶”ì¶œ (ì•¨ë²” ë°œë§¤ì¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬)
    - ```sql
      select we_art_id, we_art_name, album_id, album_name, album_release_date, album_cumulative_date, album_qty_type, album_option_type, album_physical_type, is_wev_exclusive, is_wa_included, target_ctry
      from wev_prod.we_meta.ws_album
      where we_art_id = ARTIST
      and part_date = '2024-01-01'
      order by album_release_date
      ```  
---
# PIPELINE INFO

## âŒ›ï¸ BATCH

### DAG: `analytics_we_mart_hourly`

### Update Interval: HOURLY

### Update Type: APPEND

## ğŸ“ LINK URLs

### Github: [Source Code](https://github.com/benxcorp/databricks/blob/main/src/data_analytics/meta/we_meta/ws_album.py)

### Airflow: [DAG](https://github.com/benxcorp/dp-airflow/blob/main/dags/utils/dynamic_dag/wev/task_list/analytics_we_mart_hourly.py)
  
    
---
# DEPENDENCIES

## ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Up/Downstream Table List

|Upstream Tables|Downstream Tables|
| :--- | :--- |
|we_mart.we_artist|we_mart.stats_wa_d_album_reg_smry|
|we_meta.ws_album|we_mart.stats_ws_d_album_cross_ord_by_art|
|we_meta.ws_album_id|we_mart.stats_ws_d_album_cumul|
|we_meta.ws_album_not_null_list|we_mart.stats_ws_d_album_cumul_age|
|weverseshop.goods|we_mart.stats_ws_d_album_cumul_kpi|
|weverseshop.goods_category|we_mart.stats_ws_d_album_retention|
|weverseshop.goods_goods_category|we_mart.stats_ws_d_album_sale|
|weverseshop.goods_option|we_mart.stats_ws_d_album_sale_scm|
|weverseshop.goods_option_group|we_mart.stats_ws_d_bulk_user_sales|
|weverseshop.goods_stock|we_mart.stats_wv_d_ops_sales|
|weverseshop.goods_translation|we_mart.ws_album_sale|
|weverseshop.sale|we_mart.ws_d_bulk_user_sales|
|weverseshop.sale_stock|we_meta.ws_album|
|weverseshop.stock|we_meta.ws_album_info|
| |we_meta.ws_album_latest|

## ğŸ¤ Downstream Tables Info
  
### Downstream Tables
- **`we_mart.ws_album_sale`**: ìœ„ë²„ìŠ¤ìƒµ ì•¨ë²” íŒë§¤ ë°ì´í„°ë¥¼ ë‹´ì€ í…Œì´ë¸”. `ws_album` í…Œì´ë¸”ì„ ì¡°ì¸í•˜ì—¬ ì•¨ë²” ì •ë³´ë¥¼ ì¶”ê°€í•˜ê³ , `ws_order` í…Œì´ë¸”ì„ ì¡°ì¸í•˜ì—¬ ì£¼ë¬¸ ì •ë³´ë¥¼ ì¶”ê°€í•˜ì—¬ ì•¨ë²” íŒë§¤ ë°ì´í„°ë¥¼ ìƒì„±.
    - `ws_album` í…Œì´ë¸”ì˜ `sale_id` ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ `ws_order` í…Œì´ë¸”ê³¼ ì¡°ì¸í•˜ê³ , `album_id`, `album_name`, `we_art_id`, `we_art_name` ë“± ì•¨ë²” ê´€ë ¨ ì •ë³´ë¥¼ ì¶”ê°€.
    - ìœ„ë²„ìŠ¤ìƒµ ì•¨ë²” íŒë§¤ ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ë•Œ, `we_member_id`, `sale_id`, `album_id`, `album_name`, `goods_name` ë“±ì˜ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” ì¡°ê±´ì— ë§ëŠ” ë°ì´í„°ë¥¼ ì¶”ì¶œ ê°€ëŠ¥.
- **`we_mart.wa_album`**: ìœ„ë²„ìŠ¤ ì•¨ë²” ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”. `ws_album` í…Œì´ë¸”ì„ ì¡°ì¸í•˜ì—¬ ìœ„ë²„ìŠ¤ìƒµ ì•¨ë²” ì •ë³´ë¥¼ ì¶”ê°€.
    - `ws_album` í…Œì´ë¸”ì˜ `album_id`, `album_name`, `we_art_id`, `we_art_name` ë“± ì•¨ë²” ê´€ë ¨ ì •ë³´ë¥¼ ì¡°ì¸í•˜ì—¬ ì‚¬ìš©.
    - ìœ„ë²„ìŠ¤ ì•¨ë²” ì •ë³´ë¥¼ ì¶”ì¶œí•  ë•Œ, `wa_album_id`, `wa_album_name`, `we_art_id`, `we_art_name`, `album_id`, `album_name` ë“±ì˜ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” ì¡°ê±´ì— ë§ëŠ” ë°ì´í„°ë¥¼ ì¶”ì¶œ ê°€ëŠ¥.
- **`we_mart.stats_ws_d_album_sale`**: ì¼ê°„ ì•¨ë²” íŒë§¤ í†µê³„ë¥¼ ë‹´ì€ í…Œì´ë¸”. `ws_album` í…Œì´ë¸”ì„ ì¡°ì¸í•˜ì—¬ ì•¨ë²” ì •ë³´ë¥¼ ì¶”ê°€í•˜ê³ , `ws_album_sale` í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì—¬ ì¼ë³„ ì•¨ë²” íŒë§¤ ë°ì´í„°ë¥¼ ì§‘ê³„.
    - `ws_album` í…Œì´ë¸”ì˜ `album_id`, `album_name`, `we_art_id`, `we_art_name` ë“± ì•¨ë²” ê´€ë ¨ ì •ë³´ë¥¼ ì¡°ì¸í•˜ì—¬ ì‚¬ìš©.
    - ìœ„ë²„ìŠ¤ìƒµ ì•¨ë²” íŒë§¤ í†µê³„ë¥¼ ì¶”ì¶œí•  ë•Œ, `key_date`, `ctry_code`, `album_id`, `album_name`, `ord_pur_cnt`, `ord_pur_amt`, `album_pur_cnt` ë“±ì˜ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” ì¡°ê±´ì— ë§ëŠ” ë°ì´í„°ë¥¼ ì¶”ì¶œ ê°€ëŠ¥.
- **`we_mart.wa_user_album_reg`**: ìœ„ë²„ìŠ¤ ì•¨ë²” ë“±ë¡ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”. `ws_album` í…Œì´ë¸”ì„ ì¡°ì¸í•˜ì—¬ ì•¨ë²” ì •ë³´ë¥¼ ì¶”ê°€.
    - `ws_album` í…Œì´ë¸”ì˜ `album_id`, `album_name`, `we_art_id`, `we_art_name` ë“± ì•¨ë²” ê´€ë ¨ ì •ë³´ë¥¼ ì¡°ì¸í•˜ì—¬ ì‚¬ìš©.
    - ìœ„ë²„ìŠ¤ ì•¨ë²” ë“±ë¡ ì •ë³´ë¥¼ ì¶”ì¶œí•  ë•Œ, `we_member_id`, `wa_album_id`, `wa_album_name`, `album_id`, `album_name`, `cre_dt`, `upd_dt` ë“±ì˜ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” ì¡°ê±´ì— ë§ëŠ” ë°ì´í„°ë¥¼ ì¶”ì¶œ ê°€ëŠ¥.
- **`we_mart.stats_ws_d_album_scm`**: SCM ì•¨ë²” íŒë§¤ í†µê³„ë¥¼ ë‹´ì€ í…Œì´ë¸”. `ws_album` í…Œì´ë¸”ì„ ì¡°ì¸í•˜ì—¬ ì•¨ë²” ì •ë³´ë¥¼ ì¶”ê°€í•˜ê³ , `ws_album_sale` í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì—¬ ì¼ë³„ ì•¨ë²” íŒë§¤ ë°ì´í„°ë¥¼ ì§‘ê³„.
    - `ws_album` í…Œì´ë¸”ì˜ `album_id`, `album_name`, `we_art_id`, `we_art_name`, `album_scm_option_type` ë“± ì•¨ë²” ê´€ë ¨ ì •ë³´ë¥¼ ì¡°ì¸í•˜ì—¬ ì‚¬ìš©.
    - ìœ„ë²„ìŠ¤ìƒµ SCM ì•¨ë²” íŒë§¤ í†µê³„ë¥¼ ì¶”ì¶œí•  ë•Œ, `key_date`, `shop`, `album_id`, `album_name`, `album_scm_option_name`, `net_pay_album_qty`, `net_pay_scm_qty` ë“±ì˜ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” ì¡°ê±´ì— ë§ëŠ” ë°ì´í„°ë¥¼ ì¶”ì¶œ ê°€ëŠ¥.

### Downstream View Tables
- **`we_meta.ws_album_latest`**: `ws_album` í…Œì´ë¸”ì—ì„œ ê°€ì¥ ìµœê·¼ íŒŒí‹°ì…˜ ë‚ ì§œì˜ ë°ì´í„°ë§Œ ì¶”ì¶œí•œ ë·° í…Œì´ë¸”.
    - `ws_album` í…Œì´ë¸”ì—ì„œ `part_date` ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ ìµœê·¼ íŒŒí‹°ì…˜ ë‚ ì§œë¥¼ ì°¾ê³ , í•´ë‹¹ ë‚ ì§œì˜ ë°ì´í„°ë§Œ ì¶”ì¶œ.
    - ìœ„ë²„ìŠ¤ìƒµ ì•¨ë²” ë©”íƒ€ ì •ë³´ë¥¼ ì¶”ì¶œí•  ë•Œ, `ws_album_latest` ë·° í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì—¬ ê°€ì¥ ìµœê·¼ì˜ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì¶”ì¶œ ê°€ëŠ¥.
- **`we_meta.ws_album_info`**: `ws_album` í…Œì´ë¸”ì—ì„œ ì•¨ë²”ë³„ ì¢…í•© ì •ë³´ë¥¼ ì¶”ì¶œí•œ ë·° í…Œì´ë¸”.
    - `ws_album` í…Œì´ë¸”ì—ì„œ `album_id`, `album_name`, `we_art_id`, `we_art_name`, `target_ctry`, `is_wa_included` ë“±ì˜ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ ì•¨ë²”ë³„ ì •ë³´ë¥¼ ì§‘ê³„.
    - ìœ„ë²„ìŠ¤ìƒµ ì•¨ë²” ì¢…í•© ì •ë³´ë¥¼ ì¶”ì¶œí•  ë•Œ, `ws_album_info` ë·° í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì—¬ ì•¨ë²”ë³„ ì •ë³´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì¶”ì¶œ ê°€ëŠ¥.  
---